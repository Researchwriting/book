# Auto-Notification Setup Guide

## ‚úÖ What It Does

Automatically sends you an **email** or **backs up** each section as soon as it's completed.

**Benefits:**
- üìß Get sections in your inbox immediately
- ‚òÅÔ∏è Auto-backup to cloud storage (Dropbox, Google Drive, etc.)
- üíæ Auto-backup to external drive
- üîî Know when each section is done (even if you're away)

---

## Quick Setup

### Step 1: Run Setup Script

```bash
cd /home/gemtech/Desktop/map
python3 -m src.auto_notifier
```

### Step 2: Configure Options

```
üìß AUTO-NOTIFICATION SETUP
======================================================================

1. Email Notifications
   Enable email notifications? (y/n): y
   Your email address: your.email@gmail.com
   Sender email (Gmail recommended): sender@gmail.com
   
   ‚ö†Ô∏è  For Gmail, use an App Password
   Generate one at: https://myaccount.google.com/apppasswords
   App password: xxxx xxxx xxxx xxxx

2. Automatic Backup
   Enable automatic backup? (y/n): y
   
   Examples:
   - External drive: /media/username/USB_DRIVE/textbooks
   - Cloud sync folder: ~/Dropbox/textbooks
   - Network drive: /mnt/nas/textbooks
   
   Backup path: ~/Dropbox/textbooks

‚úÖ Configuration saved to notification_config.json
```

---

## Email Setup (Gmail)

### Get Gmail App Password

1. Go to: https://myaccount.google.com/apppasswords
2. Sign in to your Google account
3. Select app: "Mail"
4. Select device: "Other" ‚Üí Type "Textbook Generator"
5. Click "Generate"
6. Copy the 16-character password (e.g., `xxxx xxxx xxxx xxxx`)
7. Use this password in the setup (NOT your regular Gmail password)

### What You'll Receive

```
From: sender@gmail.com
To: your.email@gmail.com
Subject: ‚úÖ Section 1 Complete: Types of Research Designs

Section 1 has been completed!

Title: Types of Research Designs
Word Count: ~42,350 words
File Size: 85.2 KB

The completed section is attached to this email.

---
Auto-generated by Textbook Generator
```

**Attachment**: `Section_1_Types_of_Research_Designs.md`

---

## Backup Options

### 1. **Cloud Storage** (Recommended)

Sync to Dropbox, Google Drive, OneDrive, etc.:

```bash
# Dropbox
~/Dropbox/textbooks

# Google Drive
~/Google\ Drive/textbooks

# OneDrive
~/OneDrive/textbooks
```

**Benefit**: Automatic cloud backup + access from anywhere

### 2. **External Drive**

```bash
# USB drive
/media/username/USB_DRIVE/textbooks

# External HDD
/media/username/My_Passport/textbooks
```

**Benefit**: Physical backup, no internet needed

### 3. **Network Drive**

```bash
# NAS
/mnt/nas/textbooks

# Network share
/mnt/server/textbooks
```

**Benefit**: Centralized storage for team access

---

## How It Works

### During Generation

```
‚úèÔ∏è  Writing: Research Design Principles... ‚úÖ
‚úèÔ∏è  Writing: Ethical Considerations... ‚úÖ
...

[4/4] ‚úÖ Section 1 complete!
      üìä Total words: ~42,350
      üìÅ Saved to: output/Section_1_...md

üìß Auto-notification for Section 1...
   ‚úÖ Email sent to your.email@gmail.com
   ‚úÖ Backed up to ~/Dropbox/textbooks

Press Enter to continue...
```

### What Happens

1. Section completes
2. Email sent with attachment
3. File backed up to specified location
4. You get notified immediately!

---

## Configuration File

Settings are saved to `notification_config.json`:

```json
{
  "email_enabled": true,
  "email_to": "your.email@gmail.com",
  "email_from": "sender@gmail.com",
  "email_password": "xxxx xxxx xxxx xxxx",
  "email_smtp": "smtp.gmail.com",
  "email_port": 587,
  "backup_enabled": true,
  "backup_path": "/home/username/Dropbox/textbooks"
}
```

**Edit this file** to change settings without re-running setup.

---

## Disable Notifications

### Temporarily Disable

Edit `notification_config.json`:

```json
{
  "email_enabled": false,
  "backup_enabled": false
}
```

### Permanently Remove

```bash
rm notification_config.json
```

---

## Troubleshooting

### Email Not Sending

1. **Check App Password**: Must be 16 characters from Google
2. **Check Gmail Settings**: Allow "Less secure app access" (if needed)
3. **Check Internet**: Email requires internet connection
4. **Check SMTP**: Default is Gmail (smtp.gmail.com:587)

### Backup Failing

1. **Check Path**: Make sure directory exists
2. **Check Permissions**: Make sure you can write to that location
3. **Check Disk Space**: Make sure there's enough space

### Using Non-Gmail Email

Edit `notification_config.json`:

```json
{
  "email_smtp": "smtp.outlook.com",
  "email_port": 587
}
```

Common SMTP servers:
- Gmail: `smtp.gmail.com:587`
- Outlook: `smtp.outlook.com:587`
- Yahoo: `smtp.mail.yahoo.com:587`

---

## Summary

Auto-notification sends you **each completed section** via email and/or backup as soon as it's done. Perfect for long-running generation where you want to monitor progress remotely!
